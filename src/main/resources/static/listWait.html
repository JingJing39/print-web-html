<!DOCTYPE html>
<html ng-app="app">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="format-detection" content="telephone=no, email=no" />
		<meta name="apple-touch-fullscreen" content="yes" />
		<title>待打印文件</title>
		<link rel="stylesheet" href="css/base-wechat.css" />
		<link rel="stylesheet" href="css/style1.0.css" />
		<script type="text/javascript" src="https://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js" ></script>
		<script type="text/javascript" src="js/controllerBfor.js" ></script>
		<script type="text/javascript" src="js/jquery-1.11.0.min.js" ></script>
		<script type="text/javascript" src="js/public.js" ></script>
		<script type="text/javascript" src="js/request.js" ></script>
	</head>
	<body ng-controller="listWait" class="list listWait">
		<ul id="data"></ul>
	</body>
<script>

  var get = function () {
    fileRequest.get(callBack);
  };

  var toDetail = function (id) {
    fileRequest.toDetail(id);
  };

  var deleteFile = function (id) {
    fileRequest.delete(id, get);
  };
  var callBack = function (data) {
    var html = '';
    if (data) {
      for (var i = 0; i < data.length; i++) {
        var print = data[i];
        html += '<li class="fixed">'
          + '<p>' + print.name + '</p>'
          + '<button class="btn_con colorBlue" onclick="toDetail(' + print.id + ')">打印</button>'
          + '<button class="delete" onclick="deleteFile(' + print.id + ')"><img src="img/icon/delete.png" alt="" /></button>'
          + '</li>';
      }
    }
    $('#data').html(html);
  };

  get();
</script>
</html>
